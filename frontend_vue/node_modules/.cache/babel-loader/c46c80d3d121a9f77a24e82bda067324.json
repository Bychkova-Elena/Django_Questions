{"remainingRequest":"C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\src\\views\\LogIn.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\src\\views\\LogIn.vue","mtime":1624199855418},{"path":"C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3BjL0Rlc2t0b3AvXHUwNDE4XHUwNDFGLiBcdTA0MTJcdTA0M0VcdTA0M0ZcdTA0NDBcdTA0M0VcdTA0NDFcdTA0NEIgXHUwNDM4IFx1MDQzRVx1MDQ0Mlx1MDQzMlx1MDQzNVx1MDQ0Mlx1MDQ0QiBcdTA0M0ZcdTA0M0UgXHUwNDNBXHUwNDMwXHUwNDQyXHUwNDM1XHUwNDMzXHUwNDQwXHUwNDM4XHUwNDRGXHUwNDNDL0RqYW5nb19RdWVzdGlvbnMvZnJvbnRlbmRfdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy9Gb290ZXInOwppbXBvcnQgSGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9IZWFkZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ0luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGb290ZXI6IEZvb3RlciwKICAgIEhlYWRlcjogSGVhZGVyCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSAnINCS0YXQvtC0IHwgRGphbmdvUXVlc3Rpb25zJzsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmb3JtRGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdID0gIiI7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogX3RoaXMudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIi9hcGkvdjEvdG9rZW4vbG9naW4vIiwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGEuYXV0aF90b2tlbjsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldFRva2VuJywgdG9rZW4pOwoKICAgICAgICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJUb2tlbiAiICsgdG9rZW47CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHRva2VuKTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy51c2VybmFtZSA9PSAnYWRtaW4nKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRvUGF0aCA9IF90aGlzLiRyb3V0ZS5xdWVyeS50byB8fCAnL2FkbWluLWFjY291bnQvYWRtaW4tbmV3cyc7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh0b1BhdGgpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnVzZXJuYW1lID09ICdtYW5hZ2VyJykgewogICAgICAgICAgICAgICAgICAgIHZhciBfdG9QYXRoID0gX3RoaXMuJHJvdXRlLnF1ZXJ5LnRvIHx8ICcvbWFuYWdlci1hY2NvdW50L2NvbXBsYWludHMnOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goX3RvUGF0aCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF90b1BhdGgyID0gX3RoaXMuJHJvdXRlLnF1ZXJ5LnRvIHx8ICcvbXktYWNjb3VudCc7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaChfdG9QYXRoMik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgn0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQui4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0L7Qv9GA0L7QsdGD0LnRgtC1INC10YnRkSDRgNCw0LchJyk7CgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycm9yKSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\pc\\Desktop\\ИП. Вопросы и ответы по категриям\\Django_Questions\\frontend_vue\\src\\views\\LogIn.vue"],"names":[],"mappings":";;;AA8CA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAP,MAAmB,qBAAnB;AACA,OAAO,MAAP,MAAmB,qBAAnB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,OADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,QAAQ,EAAE,EADP;AAEH,MAAA,QAAQ,EAAE,EAFP;AAGH,MAAA,MAAM,EAAE;AAHL,KAAP;AAKH,GARU;AASH,EAAA,UAAU,EAAE;AAChB,IAAA,MAAM,EAAN,MADgB;AAEhB,IAAA,MAAK,EAAL;AAFgB,GATT;AAaX,EAAA,OAbW,qBAaD;AACN,IAAA,QAAQ,CAAC,KAAT,GAAiB,yBAAjB;AACH,GAfU;AAgBX,EAAA,OAAO,EAAE;AACC,IAAA,UADD,wBACc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACf,gBAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;AACA,gBAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;AACM,gBAAA,QAHS,GAGE;AACb,kBAAA,QAAQ,EAAE,KAAI,CAAC,QADF;AAEb,kBAAA,QAAQ,EAAE,KAAI,CAAC;AAFF,iBAHF;AAAA;AAAA,uBAOT,KAAI,CACL,IADC,CACI,sBADJ,EAC4B,QAD5B,EAED,IAFC,CAEI,UAAA,QAAO,EAAK;AACd,sBAAM,KAAI,GAAI,QAAQ,CAAC,IAAT,CAAc,UAA5B;;AACA,kBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,UAAnB,EAA+B,KAA/B;;AAEA,kBAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,WAAW,KAA5D;AACA,kBAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,KAA9B;;AACA,sBAAI,KAAI,CAAC,QAAL,IAAiB,OAArB,EAA8B;AAC1B,wBAAM,MAAK,GAAI,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,EAAlB,IAAwB,2BAAvC;;AACA,oBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,MAAlB;AACJ,mBAHA,MAIK,IAAI,KAAI,CAAC,QAAL,IAAiB,SAArB,EAAgC;AACjC,wBAAM,OAAK,GAAI,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,EAAlB,IAAwB,6BAAvC;;AACA,oBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,OAAlB;AACJ,mBAHK,MAIA;AACD,wBAAM,QAAK,GAAI,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,EAAlB,IAAwB,aAAvC;;AACA,oBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACJ;AACH,iBApBC,EAqBD,KArBC,CAqBK,UAAA,KAAI,EAAK;AACZ,sBAAI,KAAK,CAAC,QAAV,EAAoB;AAChB,yBAAK,IAAM,QAAX,IAAuB,KAAK,CAAC,QAAN,CAAe,IAAtC,EAA4C;AACxC,sBAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,WAAoB,QAApB,eAAiC,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,QAApB,CAAjC;AACJ;AACJ,mBAJA,MAIO;AACH,oBAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,sDAAjB;;AAEA,oBAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAf,CAAZ;AACJ;AACH,iBA/BC,CAPS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCnB;AAxCK;AAhBE,CAAf","sourcesContent":["<template>\r\n<div>\r\n  <Header/>\r\n    <section class=\"section\">\r\n        <div class=\"columns\">\r\n            <div class=\"column is-6 is-offset-3\">\r\n                <h1 class=\"title\">Войти</h1>\r\n\r\n                <form @submit.prevent=\"submitForm\">\r\n                    <div class=\"field\">\r\n                        <label>Логин: <span class=\"has-text-danger\">*</span></label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" v-model=\"username\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"field\">\r\n                        <label>Пароль: <span class=\"has-text-danger\">*</span></label>\r\n                        <div class=\"control\">\r\n                            <input type=\"password\" class=\"input\" v-model=\"password\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"notification is-danger\" v-if=\"errors.length\">\r\n                        <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\r\n                    </div>\r\n\r\n                    <div class=\"field\">\r\n                      <p class=\"mb-3\"><span class=\"has-text-danger\">*</span> - Поля, обязательные для заполнения</p>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-link\">Войти</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <hr>\r\n\r\n                    Или нажмите <router-link to=\"/sign-up\">сюда</router-link>, чтобы зарегистрироваться!\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </section>\r\n  <Footer/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Footer from '@/components/Footer'\r\nimport Header from '@/components/Header'\r\n\r\nexport default {\r\n    name: 'LogIn',\r\n    data() {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            errors: []\r\n        }\r\n    },\r\n            components: {\r\n        Footer,\r\n        Header\r\n    },\r\n    mounted() {\r\n        document.title = ' Вход | DjangoQuestions'\r\n    },\r\n    methods: {\r\n        async submitForm() {\r\n            axios.defaults.headers.common[\"Authorization\"] = \"\"\r\n            localStorage.removeItem(\"token\")\r\n            const formData = {\r\n                username: this.username,\r\n                password: this.password\r\n            }\r\n            await axios\r\n                .post(\"/api/v1/token/login/\", formData)\r\n                .then(response => {\r\n                    const token = response.data.auth_token\r\n                    this.$store.commit('setToken', token)\r\n                    \r\n                    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token\r\n                    localStorage.setItem(\"token\", token)\r\n                    if (this.username == 'admin') {\r\n                        const toPath = this.$route.query.to || '/admin-account/admin-news'\r\n                        this.$router.push(toPath)\r\n                    }\r\n                    else if (this.username == 'manager') {\r\n                        const toPath = this.$route.query.to || '/manager-account/complaints'\r\n                        this.$router.push(toPath)\r\n                    }\r\n                    else {\r\n                        const toPath = this.$route.query.to || '/my-account'\r\n                        this.$router.push(toPath)\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    if (error.response) {\r\n                        for (const property in error.response.data) {\r\n                            this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                        }\r\n                    } else {\r\n                        this.errors.push('Что-то пошло не так. Пожалуйста, попробуйте ещё раз!')\r\n                        \r\n                        console.log(JSON.stringify(error))\r\n                    }\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>"],"sourceRoot":""}]}